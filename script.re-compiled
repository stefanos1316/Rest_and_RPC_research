#!/bin/bash


if [ "$#" -eq 0 ]; then
	echo ""
	echo "Illegal number of command line arguments!"
	echo "Use --help for more information."
	echo ""
	exit
fi


if [ "$1" == "-h" ] || [ "$1" == "-help" ] || [ "$1" == "--help" ] || [ "$1" == "--h" ]; then
	echo "--dir <arg>	Provide the path of the ds3 repositody" 

fi

# Get all arguments
args=("$@") 

# Get number of elements 
ELEMENTS=${#args[@]} 

# Initiallize parameters
reposPath="0"

# echo each element in array  
# for lQsds
for (( i=0;i<$ELEMENTS;++i)); do  

	case "${args[${i}]}" in 
	("--dir") reposPath=${args[i+1]} ;;
	esac
done

echo "Compiling..."
gcc -o $reposPath/ds3/data_files/cust/ds3_create_cust $reposPath/ds3/data_files/cust/ds3_create_cust.c -O3 -lm
gcc -o $reposPath/ds3/data_files/orders/ds3_create_orders $reposPath/ds3/data_files/orders/ds3_create_orders.c -O3 -lm
gcc -o $reposPath/ds3/data_files/orders/ds3_create_inv $reposPath/ds3/data_files/orders/ds3_create_inv.c -O3 -lm
gcc -o $reposPath/ds3/data_files/prod/ds3_create_prod $reposPath/ds3/data_files/prod/ds3_create_prod.c -O3 -lm
gcc -o $reposPath/ds3/data_files/reviews/ds3_create_reviews $reposPath/ds3/data_files/reviews/ds3_create_reviews.c -O3 -lm
gcc -o $reposPath/ds3/data_files/membership/ds3_create_membership $reposPath/ds3/data_files/membership/ds3_create_membership.c -O3 -lm

echo "DONE!!!"
exit
